---

title: Trove query parser


keywords: fastai
sidebar: home_sidebar

summary: "Convert a query from the Trove web interface into a set of parameters that can be used with the Trove API."
description: "Convert a query from the Trove web interface into a set of parameters that can be used with the Trove API."
nb_path: "index.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: index.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Installation">Installation<a class="anchor-link" href="#Installation"> </a></h2><p><code>pip install trove-query-parser</code></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="How-to-use">How to use<a class="anchor-link" href="#How-to-use"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>Construct a search in the Trove 'Newspapers and Gazettes' category.</li>
<li>Copy the search url.</li>
<li>Feed the url to the <a href="/trove_query_parser/parser.html#parse_query"><code>parse_query</code></a> function</li>
</ul>
<p>The second parameter to <a href="/trove_query_parser/parser.html#parse_query"><code>parse_query</code></a> is the Trove API version number. The default is <code>2</code> for backwards compatibility.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">trove_query_parser.parser</span> <span class="kn">import</span> <span class="n">parse_query</span>

<span class="n">parse_query</span><span class="p">(</span><span class="s1">&#39;https://trove.nla.gov.au/search/category/newspapers?keyword=wragge&amp;l-artType=newspapers&amp;l-state=Queensland&amp;l-category=Article&amp;l-illustrationType=Cartoon&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;q&#39;: &#39;wragge&#39;,
 &#39;l-artType&#39;: &#39;newspapers&#39;,
 &#39;l-state&#39;: [&#39;Queensland&#39;],
 &#39;l-category&#39;: [&#39;Article&#39;],
 &#39;l-illustrated&#39;: &#39;true&#39;,
 &#39;l-illustrationType&#39;: [&#39;Cartoon&#39;],
 &#39;category&#39;: &#39;newspaper&#39;}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>See the <a href="https://wragge.github.io/trove_query_parser/">documentation</a> for a more detailed example.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Limitations">Limitations<a class="anchor-link" href="#Limitations"> </a></h2><p>Currently this only works with the 'Newspapers &amp; Gazettes' category. Other categories may be added in time.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>
<p>Created by <a href="https://timsherratt.org">Tim Sherratt</a> (<a href="https://twitter.com/wragge">@wragge</a>) for the <a href="https://glam-workbench.net/">GLAM Workbench</a>.</p>

</div>
</div>
</div>
</div>


